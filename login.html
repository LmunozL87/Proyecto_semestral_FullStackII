<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <!-- Si login.html está en la misma carpeta que index.html -->
  <link rel="stylesheet" href="assets/main.css">
  <!-- Si login.html está en /pages/, usa: ../assets/main.css?v=1.1 -->
</head>
<body>
  <main>
    <div class="login-container">
      <h2>Iniciar Sesión</h2>
      <form id="login">
        <label for="usuario">Correo electrónico:</label>
        <input type="email" id="usuario" name="usuario" required title="Ingresa tu correo electrónico">

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required title="Ingresa tu contraseña">

        <button type="submit">Entrar</button>
      </form>
      <p>¿No tienes cuenta? <a href="register.html" class="enlace">Regístrate aquí</a></p>
    </div>
  </main>

  <footer class="footer">
    ¿Necesitas ayuda? <a href="mailto:soporte@tuturno.com">Haz clic aquí</a>
  </footer>

  <script src="assets/main.js"></script>
  <script>
    // Funciones de validación (si no están en main.js)
    function validarCorreo(correo) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(correo);
    }
    function validarContrasena(clave) {
      // al menos 8, mayus, minus, número, símbolo de @,$,!,%,*,?,&
      const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;
      return re.test(clave);
    }

    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('login').addEventListener('submit', function (e) {
        const correo = document.getElementById('usuario').value.trim();
        const clave  = document.getElementById('password').value.trim();

        if (!validarCorreo(correo)) {
          e.preventDefault();
          alert("Correo electrónico inválido. Usa el formato usuario@dominio.com");
          document.getElementById('usuario').focus();
          return;
        }

        if (!validarContrasena(clave)) {
          e.preventDefault();
          alert('La contraseña debe tener al menos 8 caracteres, e incluir mayúsculas, minúsculas, números y alguno de estos símbolos @,$,!,%,*,?,&.');
          document.getElementById('password').focus();
          return;
        }


        e.preventDefault();
        window.location.href = 'calendar.html';
      });
    });
  </script>
</body>
</html>
